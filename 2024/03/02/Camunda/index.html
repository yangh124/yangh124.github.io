<!DOCTYPE html>
<html lang=zh>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no,email=no,adress=no">
  <!-- Color theme for statusbar -->
  <meta name="theme-color" content="#000000" />
  <!-- 强制页面在当前窗口以独立页面显示,防止别人在框架里调用页面 -->
  <meta http-equiv="window-target" content="_top" />
  
  
  <title>Camunda | yangh&#39;s Blog</title>
  <meta name="description" content="介绍Camunda是一个基于java的框架，支持用于工作流和过程自动化的BPMN、用于案例管理的CMMN和用于商业决策管理的DMN。  BPMN ： Business Process Management And Notation 业务流程管理和符号 CMMN ： Case Management Mode And Notation 案例管理模型和符号 DMN ： Decision Manageme">
<meta property="og:type" content="article">
<meta property="og:title" content="Camunda">
<meta property="og:url" content="https://yh124.space/2024/03/02/Camunda/index.html">
<meta property="og:site_name" content="yangh&#39;s Blog">
<meta property="og:description" content="介绍Camunda是一个基于java的框架，支持用于工作流和过程自动化的BPMN、用于案例管理的CMMN和用于商业决策管理的DMN。  BPMN ： Business Process Management And Notation 业务流程管理和符号 CMMN ： Case Management Mode And Notation 案例管理模型和符号 DMN ： Decision Manageme">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164107.png">
<meta property="og:image" content="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164126.png">
<meta property="og:image" content="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164141.png">
<meta property="og:image" content="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164152.png">
<meta property="og:image" content="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164162.png">
<meta property="og:image" content="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164171.png">
<meta property="og:image" content="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164183.png">
<meta property="og:image" content="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164200.png">
<meta property="og:image" content="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164218.png">
<meta property="og:image" content="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164235.png">
<meta property="og:image" content="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164252.png">
<meta property="og:image" content="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164269.png">
<meta property="og:image" content="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164291.png">
<meta property="og:image" content="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164311.png">
<meta property="og:image" content="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164331.png">
<meta property="og:image" content="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164350.png">
<meta property="og:image" content="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164367.png">
<meta property="og:image" content="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164385.png">
<meta property="og:image" content="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164403.png">
<meta property="og:image" content="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164421.png">
<meta property="og:image" content="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164438.png">
<meta property="og:image" content="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164457.png">
<meta property="og:image" content="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164480.png">
<meta property="og:image" content="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164502.png">
<meta property="og:image" content="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164525.png">
<meta property="og:image" content="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164547.png">
<meta property="og:image" content="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164571.png">
<meta property="og:image" content="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164595.png">
<meta property="og:image" content="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164622.png">
<meta property="og:image" content="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164652.png">
<meta property="article:published_time" content="2024-03-01T16:00:00.000Z">
<meta property="article:modified_time" content="2024-03-02T10:18:05.208Z">
<meta property="article:author" content="yangh">
<meta property="article:tag" content="k8s">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164107.png">
  <!-- Canonical links -->
  <link rel="canonical" href="https://yh124.space/2024/03/02/Camunda/index.html">
  
  
    <link rel="icon" href="/favicon.png" type="image/x-icon">
  
  
<link rel="stylesheet" href="/css/style.css">

  
  
  
    <link href="//cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.3.5/dist/jquery.fancybox.min.css" rel="stylesheet">
  
  
<meta name="generator" content="Hexo 6.2.0"><link rel="alternate" href="/atom.xml" title="yangh's Blog" type="application/atom+xml">
</head>


<body class="main-center theme-green" itemscope itemtype="http://schema.org/WebPage">
  <header class="header" itemscope itemtype="http://schema.org/WPHeader">
  <div class="slimContent">
    <div class="navbar-header">
      
      
      <div class="profile-block text-center">
        <a id="avatar" href="https://github.com/yangh124" target="_blank">
          <img class="img-circle img-rotate" src="https://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2021/04/25/avatar.JPG" width="200" height="200">
        </a>
        <h2 id="name" class="hidden-xs hidden-sm">yangh124</h2>
        <h3 id="title" class="hidden-xs hidden-sm hidden-md"></h3>
        <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> 浙江，杭州</small>
      </div>
      
      <div class="search" id="search-form-wrap">

    <form class="search-form sidebar-form">
        <div class="input-group">
            <input type="text" class="search-form-input form-control" placeholder="搜索" />
            <span class="input-group-btn">
                <button type="submit" class="search-form-submit btn btn-flat" onclick="return false;"><i class="icon icon-search"></i></button>
            </span>
        </div>
    </form>
    <div class="ins-search">
  <div class="ins-search-mask"></div>
  <div class="ins-search-container">
    <div class="ins-input-wrapper">
      <input type="text" class="ins-search-input" placeholder="想要查找什么..." x-webkit-speech />
      <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
    </div>
    <div class="ins-section-wrapper">
      <div class="ins-section-container"></div>
    </div>
  </div>
</div>


</div>
      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
      <ul class="nav navbar-nav main-nav menu-highlight">
        
        
        <li class="menu-item menu-item-home">
          <a href="/.">
            
            <i class="icon icon-home-fill"></i>
            
            <span class="menu-title">首页</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-archives">
          <a href="/archives">
            
            <i class="icon icon-archives-fill"></i>
            
            <span class="menu-title">归档</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-categories">
          <a href="/categories">
            
            <i class="icon icon-folder"></i>
            
            <span class="menu-title">分类</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-tags">
          <a href="/tags">
            
            <i class="icon icon-tags"></i>
            
            <span class="menu-title">标签</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-repository">
          <a href="/repository">
            
            <i class="icon icon-project"></i>
            
            <span class="menu-title">项目</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-about">
          <a href="/about">
            
            <i class="icon icon-cup-fill"></i>
            
            <span class="menu-title">关于</span>
          </a>
        </li>
        
      </ul>
      
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/yangh124" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
    </ul>

    </nav>
  </div>
</header>

  
    <aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    
      <div class="widget">
    <h3 class="widget-title">公告</h3>
    <div class="widget-body">
        <div id="board">
            <div class="content">
                <p>欢迎交流与分享经验!</p>
            </div>
        </div>
    </div>
</div>

    
      
  <div class="widget">
    <h3 class="widget-title">分类</h3>
    <div class="widget-body">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%90%8E%E7%AB%AF/">后端</a><span class="category-list-count">14</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%9F%BA%E7%A1%80/">基础</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%84%9A%E6%9C%AC%E8%AF%AD%E8%A8%80/">脚本语言</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%BF%90%E7%BB%B4/">运维</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%A1%B9%E7%9B%AE/">项目</a><span class="category-list-count">1</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">标签</h3>
    <div class="widget-body">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Docker/" rel="tag">Docker</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JVM/" rel="tag">JVM</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/" rel="tag">Java</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/" rel="tag">MySQL</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/elastic-search/" rel="tag">elastic search</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/k8s/" rel="tag">k8s</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F/" rel="tag">分布式</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AE%9E%E6%88%98/" rel="tag">实战</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/" rel="tag">微服务</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/" rel="tag">消息队列</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">算法</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/" rel="tag">网络编程</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">归档</h3>
    <div class="widget-body">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/03/">三月 2024</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">二月 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">六月 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">五月 2022</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">一月 2022</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">十二月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">十一月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">十月 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">九月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">八月 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">七月 2021</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">四月 2021</a><span class="archive-list-count">2</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget-body">
      <ul class="recent-post-list list-unstyled no-thumbnail">
        
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/%E5%90%8E%E7%AB%AF/">后端</a>
              </p>
              <p class="item-title">
                <a href="/2024/03/02/Camunda/" class="title">Camunda</a>
              </p>
              <p class="item-date">
                <time datetime="2024-03-01T16:00:00.000Z" itemprop="datePublished">2024-03-02</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/%E8%BF%90%E7%BB%B4/">运维</a>
              </p>
              <p class="item-title">
                <a href="/2023/02/28/k3s%E5%AE%9E%E6%88%98/" class="title">k3s实战</a>
              </p>
              <p class="item-date">
                <time datetime="2023-02-27T16:00:00.000Z" itemprop="datePublished">2023-02-28</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/%E5%90%8E%E7%AB%AF/">后端</a>
              </p>
              <p class="item-title">
                <a href="/2022/06/06/MySQL%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%BF%E7%94%A8/" class="title">MySQL性能分析工具的使用</a>
              </p>
              <p class="item-date">
                <time datetime="2022-06-05T16:00:00.000Z" itemprop="datePublished">2022-06-06</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/%E5%90%8E%E7%AB%AF/">后端</a>
              </p>
              <p class="item-title">
                <a href="/2022/05/30/Redisson%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%EF%BC%88%E4%BD%BF%E7%94%A8%E6%B3%A8%E8%A7%A3%E6%96%B9%E5%BC%8F%EF%BC%89/" class="title">Redisson分布式锁（使用注解方式）</a>
              </p>
              <p class="item-date">
                <time datetime="2022-05-29T16:00:00.000Z" itemprop="datePublished">2022-05-30</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/%E8%BF%90%E7%BB%B4/">运维</a>
              </p>
              <p class="item-title">
                <a href="/2022/05/20/Docker%E5%AE%9E%E6%88%98/" class="title">Docker实战</a>
              </p>
              <p class="item-date">
                <time datetime="2022-05-19T16:00:00.000Z" itemprop="datePublished">2022-05-20</time>
              </p>
            </div>
          </li>
          
      </ul>
    </div>
  </div>
  

    
  </div>
</aside>

  
  
<aside class="sidebar sidebar-toc collapse" id="collapseToc" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    <nav id="toc" class="article-toc">
      <h3 class="toc-title">文章目录</h3>
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.</span> <span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Camunda-%E7%BB%84%E4%BB%B6"><span class="toc-number">2.</span> <span class="toc-text">Camunda 组件</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Process-Engine-amp-Infrastructure"><span class="toc-number">2.1.</span> <span class="toc-text">Process Engine &amp; Infrastructure</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Modeler"><span class="toc-number">2.2.</span> <span class="toc-text">Modeler</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Web-Applications"><span class="toc-number">2.3.</span> <span class="toc-text">Web Applications</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%B5%81%E7%A8%8B%E5%BC%95%E6%93%8E%E9%9B%86%E6%88%90"><span class="toc-number">3.</span> <span class="toc-text">流程引擎集成</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%B5%81%E7%A8%8B%E5%BC%95%E6%93%8E%E6%A6%82%E5%BF%B5"><span class="toc-number">4.</span> <span class="toc-text">流程引擎概念</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Process-Definitions"><span class="toc-number">4.1.</span> <span class="toc-text">Process Definitions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Process-Instances"><span class="toc-number">4.2.</span> <span class="toc-text">Process Instances</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Executions"><span class="toc-number">4.3.</span> <span class="toc-text">Executions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Activity-Instances"><span class="toc-number">4.4.</span> <span class="toc-text">Activity Instances</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Jobs-and-Job-Definitions"><span class="toc-number">4.5.</span> <span class="toc-text">Jobs and Job Definitions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Process-Variables"><span class="toc-number">4.6.</span> <span class="toc-text">Process Variables</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%B5%81%E7%A8%8B%E5%BC%95%E6%93%8E-API"><span class="toc-number">5.</span> <span class="toc-text">流程引擎 API</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#RepositoryService"><span class="toc-number">5.0.1.</span> <span class="toc-text">RepositoryService</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#RuntimeService"><span class="toc-number">5.1.</span> <span class="toc-text">RuntimeService</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TaskService"><span class="toc-number">5.2.</span> <span class="toc-text">TaskService</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IdentityService"><span class="toc-number">5.3.</span> <span class="toc-text">IdentityService</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HistoryService"><span class="toc-number">5.4.</span> <span class="toc-text">HistoryService</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ManagementService"><span class="toc-number">5.5.</span> <span class="toc-text">ManagementService</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Other"><span class="toc-number">5.6.</span> <span class="toc-text">Other</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%B5%81%E7%A8%8B%E5%8F%98%E9%87%8F"><span class="toc-number">6.</span> <span class="toc-text">流程变量</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E4%BD%9C%E7%94%A8%E5%9F%9F%E5%92%8C%E5%8F%98%E9%87%8F%E5%8F%AF%E8%AE%BF%E9%97%AE%E6%80%A7"><span class="toc-number">6.1.</span> <span class="toc-text">变量作用域和变量可访问性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E5%92%8C%E6%9F%A5%E8%AF%A2%E5%8F%98%E9%87%8F"><span class="toc-number">6.2.</span> <span class="toc-text">设置和查询变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%94%AF%E6%8C%81%E7%9A%84%E5%8F%98%E9%87%8F%E7%B1%BB%E5%9E%8B"><span class="toc-number">6.3.</span> <span class="toc-text">支持的变量类型</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%A7%94%E6%89%98%E4%BB%A3%E7%A0%81"><span class="toc-number">7.</span> <span class="toc-text">委托代码</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Java-Delegate"><span class="toc-number">7.1.</span> <span class="toc-text">Java Delegate</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Delegate-Variable-Mapping"><span class="toc-number">7.2.</span> <span class="toc-text">Delegate Variable Mapping</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Execution-Listener"><span class="toc-number">7.3.</span> <span class="toc-text">Execution Listener</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Task-Listener"><span class="toc-number">7.4.</span> <span class="toc-text">Task Listener</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#BPMN-2-0"><span class="toc-number">8.</span> <span class="toc-text">BPMN 2.0</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E8%8C%83%E5%9B%B4"><span class="toc-number">8.1.</span> <span class="toc-text">实现范围</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%A6%E5%8F%B7"><span class="toc-number">8.1.1.</span> <span class="toc-text">符号</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%82%E4%B8%8E%E8%80%85"><span class="toc-number">8.1.1.1.</span> <span class="toc-text">参与者</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%90%E6%B5%81%E7%A8%8B"><span class="toc-number">8.1.1.2.</span> <span class="toc-text">子流程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%BB%E5%8A%A1"><span class="toc-number">8.1.1.3.</span> <span class="toc-text">任务</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BD%91%E5%85%B3"><span class="toc-number">8.1.1.4.</span> <span class="toc-text">网关</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE"><span class="toc-number">8.1.1.5.</span> <span class="toc-text">数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E9%87%8A"><span class="toc-number">8.1.1.6.</span> <span class="toc-text">注释</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6"><span class="toc-number">8.1.2.</span> <span class="toc-text">事件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%BB%E5%8A%A1-1"><span class="toc-number">8.2.</span> <span class="toc-text">任务</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Service-Task"><span class="toc-number">8.2.1.</span> <span class="toc-text">Service Task</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Send-Task"><span class="toc-number">8.2.2.</span> <span class="toc-text">Send Task</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#User-Task"><span class="toc-number">8.2.3.</span> <span class="toc-text">User Task</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Business-Rule-Task"><span class="toc-number">8.2.4.</span> <span class="toc-text">Business Rule Task</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Script-Task"><span class="toc-number">8.2.5.</span> <span class="toc-text">Script Task</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Receive-Task"><span class="toc-number">8.2.6.</span> <span class="toc-text">Receive Task</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Manual-Task"><span class="toc-number">8.2.7.</span> <span class="toc-text">Manual Task</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Task-Markers"><span class="toc-number">8.2.8.</span> <span class="toc-text">Task Markers</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Multiple-Instance"><span class="toc-number">8.2.8.1.</span> <span class="toc-text">Multiple Instance</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#compensations%EF%BC%88%E8%A1%A5%E5%81%BF%EF%BC%89"><span class="toc-number">8.2.8.2.</span> <span class="toc-text">compensations（补偿）</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%91%E5%85%B3-1"><span class="toc-number">8.3.</span> <span class="toc-text">网关</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Data-based-Exclusive-Gateway-XOR"><span class="toc-number">8.3.1.</span> <span class="toc-text">Data-based Exclusive Gateway (XOR)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Parallel-Gateway"><span class="toc-number">8.3.2.</span> <span class="toc-text">Parallel Gateway</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Inclusive-Gateway"><span class="toc-number">8.3.3.</span> <span class="toc-text">Inclusive Gateway</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Event-based-Gateway"><span class="toc-number">8.3.4.</span> <span class="toc-text">Event-based Gateway</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6-1"><span class="toc-number">8.4.</span> <span class="toc-text">事件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%90%E6%B5%81%E7%A8%8B-1"><span class="toc-number">8.5.</span> <span class="toc-text">子流程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Camunda%E6%89%A9%E5%B1%95"><span class="toc-number">8.6.</span> <span class="toc-text">Camunda扩展</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">9.</span> <span class="toc-text">数据库</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8%E7%BB%93%E6%9E%84"><span class="toc-number">9.1.</span> <span class="toc-text">数据库表结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%81%E7%A8%8B%E5%AE%9A%E4%B9%89-ACT-RE-PROCDEF"><span class="toc-number">9.1.1.</span> <span class="toc-text">流程定义 (ACT_RE_PROCDEF)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%A7%E8%A1%8C-ACT-RU-EXECUTION"><span class="toc-number">9.1.2.</span> <span class="toc-text">执行 (ACT_RU_EXECUTION)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%BB%E5%8A%A1-ACT-RU-TASK"><span class="toc-number">9.1.3.</span> <span class="toc-text">任务(ACT_RU_TASK)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%98%E9%87%8F-ACT-RU-VARIABLE"><span class="toc-number">9.1.4.</span> <span class="toc-text">变量 (ACT_RU_VARIABLE)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6%E8%AE%A2%E9%98%85-ACT-RU-EVENT-SUBSCR"><span class="toc-number">9.1.5.</span> <span class="toc-text">事件订阅 (ACT_RU_EVENT_SUBSCR)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A1%A8%E7%BB%93%E6%9E%84%E6%97%A5%E5%BF%97-ACT-GE-SCHEMA-LOG"><span class="toc-number">9.1.6.</span> <span class="toc-text">表结构日志 (ACT_GE_SCHEMA_LOG)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E6%97%B6%E6%8C%87%E6%A0%87%E6%97%A5%E5%BF%97-ACT-RU-METER-LOG"><span class="toc-number">9.1.7.</span> <span class="toc-text">运行时指标日志 (ACT_RU_METER_LOG)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%BB%E5%8A%A1%E6%8C%87%E6%A0%87%E6%97%A5%E5%BF%97-ACT-RU-TASK-METER-LOG"><span class="toc-number">9.1.8.</span> <span class="toc-text">任务指标日志 (ACT_RU_TASK_METER_LOG)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E4%BD%93%E5%85%B3%E7%B3%BB%E5%9B%BE"><span class="toc-number">9.2.</span> <span class="toc-text">实体关系图</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#BPMN%E5%BC%95%E6%93%8E"><span class="toc-number">9.2.1.</span> <span class="toc-text">BPMN引擎</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DMN%E5%BC%95%E6%93%8E"><span class="toc-number">9.2.2.</span> <span class="toc-text">DMN引擎</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CMMN%E5%BC%95%E6%93%8E"><span class="toc-number">9.2.3.</span> <span class="toc-text">CMMN引擎</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8E%86%E5%8F%B2"><span class="toc-number">9.2.4.</span> <span class="toc-text">历史</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BA%AB%E4%BB%BD"><span class="toc-number">9.2.5.</span> <span class="toc-text">身份</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E9%85%8D%E7%BD%AE"><span class="toc-number">9.3.</span> <span class="toc-text">数据库配置</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BA-date-x2F-time-%E7%B1%BB%E5%9E%8B%E7%A6%81%E7%94%A8%E5%8F%91%E9%80%81%E6%AF%AB%E7%A7%92%E7%B2%BE%E5%BA%A6"><span class="toc-number">9.3.0.1.</span> <span class="toc-text">为 date&#x2F;time 类型禁用发送毫秒精度</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB%E9%85%8D%E7%BD%AE"><span class="toc-number">9.3.0.2.</span> <span class="toc-text">隔离级别配置</span></a></li></ol></li></ol></li></ol></li></ol>
    </nav>
  </div>
</aside>

<main class="main" role="main">
  <div class="content">
  <article id="post-Camunda" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting">
    
    <div class="article-header">
      
        
  
    <h1 class="article-title" itemprop="name">
      Camunda
    </h1>
  

      
      <div class="article-meta">
        <span class="article-date">
    <i class="icon icon-calendar-check"></i>
	<a href="/2024/03/02/Camunda/" class="article-date">
	  <time datetime="2024-03-01T16:00:00.000Z" itemprop="datePublished">2024-03-02</time>
	</a>
</span>
        
  <span class="article-category">
    <i class="icon icon-folder"></i>
    <a class="article-category-link" href="/categories/%E5%90%8E%E7%AB%AF/">后端</a>
  </span>

        
  <span class="article-tag">
    <i class="icon icon-tags"></i>
	<a class="article-tag-link-link" href="/tags/k8s/" rel="tag">k8s</a>
  </span>


        
	<span class="article-read hidden-xs">
	    <i class="icon icon-eye-fill" aria-hidden="true"></i>
	    <span id="busuanzi_container_page_pv">
			<span id="busuanzi_value_page_pv">0</span>
		</span>
	</span>


	<span class="article-read hidden-xs">
    	<i class="icon icon-eye-fill" aria-hidden="true"></i>
    	<span id="/2024/03/02/Camunda/" class="leancloud_visitors"  data-flag-title="Camunda">
			<span class="leancloud-visitors-count">0</span>
		</span>
    </span>

        <span class="post-comment"><i class="icon icon-comment"></i> <a href="/2024/03/02/Camunda/#comments" class="article-comment-link">评论</a></span>
        
	
		<span class="post-wordcount hidden-xs" itemprop="wordCount">字数统计: 5.1k(字)</span>
	
	
		<span class="post-readcount hidden-xs" itemprop="timeRequired">阅读时长: 18(分)</span>
	

      </div>
    </div>
    <div class="article-entry marked-body" itemprop="articleBody">
      
        <h1 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h1><p>Camunda是一个基于java的框架，支持用于工作流和过程自动化的BPMN、用于案例管理的CMMN和用于商业决策管理的DMN。</p>
<ul>
<li>BPMN ： Business Process Management And Notation 业务流程管理和符号</li>
<li>CMMN ： Case Management Mode And Notation 案例管理模型和符号</li>
<li>DMN ： Decision Management And Notation 决策管理和符号</li>
</ul>
<h1 id="Camunda-组件"><a href="#Camunda-组件" class="headerlink" title="Camunda 组件"></a>Camunda 组件</h1><p><img src="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164107.png" alt="Camunda 组件"></p>
<p>)</p>
<h2 id="Process-Engine-amp-Infrastructure"><a href="#Process-Engine-amp-Infrastructure" class="headerlink" title="Process Engine &amp; Infrastructure"></a>Process Engine &amp; Infrastructure</h2><ul>
<li>流程引擎 流程引擎是负责执行BPMN 2.0流程、CMMN 1.1案例和DMN 1.3决策的Java库。它有一个轻量级的POJO核心，并使用关系数据库来持久性。 orm映射由mybatis映射框架提供。</li>
<li>Spring 框架集成</li>
<li>CDI&#x2F;Java EE 集成</li>
<li>Runtime 容器集成 (与应用服务器基础架构集成。)</li>
</ul>
<h2 id="Modeler"><a href="#Modeler" class="headerlink" title="Modeler"></a>Modeler</h2><ul>
<li>Camunda Modeler: BPMN 2.0和CMMN 1.1图表以及DMN 1.3决策表的建模工具。</li>
<li>bpmn.io: 用于建模框架和工具包的开源项目</li>
</ul>
<h2 id="Web-Applications"><a href="#Web-Applications" class="headerlink" title="Web Applications"></a>Web Applications</h2><ul>
<li>REST API：REST API允许您从远程应用程序或JavaScript应用程序中使用流程引擎。</li>
<li>Camunda Tasklist：一个用于人工管理工作流和用户任务的web应用程序，它允许流程参与者检查他们的工作流任务并导航到任务表单，以便处理任务并提供数据输入。</li>
<li>Camunda Cockpit：是一个用于流程监视和操作的web应用程序，它允许您搜索流程实例、检查它们的状态并修复损坏的实例。</li>
<li>Camunda Admin：一个web应用程序，允许您管理用户、组和授权。</li>
</ul>
<h1 id="流程引擎集成"><a href="#流程引擎集成" class="headerlink" title="流程引擎集成"></a>流程引擎集成</h1><p>通过提供的 Spring Boot starters，Camunda引擎可以在Spring Boot应用程序中使用。</p>
<p>文档地址：<a target="_blank" rel="noopener" href="https://docs.camunda.org/manual/7.19/user-guide/spring-boot-integration/">Spring Boot Integration | docs.camunda.org</a></p>
<h1 id="流程引擎概念"><a href="#流程引擎概念" class="headerlink" title="流程引擎概念"></a>流程引擎概念</h1><h2 id="Process-Definitions"><a href="#Process-Definitions" class="headerlink" title="Process Definitions"></a>Process Definitions</h2><p>流程定义定义了流程的结构。你可以说流程定义就是流程。Camunda平台使用BPMN 2.0作为建模流程定义的主要建模语言。</p>
<h2 id="Process-Instances"><a href="#Process-Instances" class="headerlink" title="Process Instances"></a>Process Instances</h2><p>流程实例是流程定义的单个执行。流程实例与流程定义的关系与面向对象编程中对象与类的关系相同（在这个类比中，流程实例扮演对象的角色，流程定义扮演类的角色）。</p>
<h2 id="Executions"><a href="#Executions" class="headerlink" title="Executions"></a>Executions</h2><p>如果你的流程实例包含多个执行路径（例如并行网关），你必须能够区分流程实例内当前的活动路径。在下面的例子中，两个用户任务“receive payment”和“ship order”可以同时执行。</p>
<p><img src="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164126.png" alt="Executions"></p>
<p>在内部实现中，流程引擎在流程实例遇到并行网关时会创建两个并发的执行，每个并发的执行都有一个执行路径。 或者“作用域”（scopes）也会创建新的执行，例如，如果流程引擎到达一个嵌入式<strong>子流程</strong>，就会创建执行。 或者<strong>多实例</strong>也会创建新的执行。</p>
<p>执行是分层次的，一个流程实例内的所有执行组成一棵树，流程实例是树上的根节点。注意：流程实例本身就是一个执行。执行属于变量范围, 意味着动态数据可以与之关联。</p>
<h2 id="Activity-Instances"><a href="#Activity-Instances" class="headerlink" title="Activity Instances"></a>Activity Instances</h2><p>活动实例的概念与执行的概念相似，但采取了不同的视角。执行可以被想象成在流程中移动的 “token”，而活动实例则代表一个活动（任务、子流程…）的单个实例。因此，活动实例的概念更加倾向“面向状态（state-oriented）”。</p>
<p>活动实例也构成一棵树，遵循 BPMN 2.0 所提供的范围标准。处于 “同一层次的子流程”（即，同一范围的一部分，包含在同一子流程中）的活动，其活动实例会处于树的同一层次。</p>
<h2 id="Jobs-and-Job-Definitions"><a href="#Jobs-and-Job-Definitions" class="headerlink" title="Jobs and Job Definitions"></a>Jobs and Job Definitions</h2><p>Camunda流程引擎包括一个名为“Job执行器（Job Executor）”的组件。Job执行器是一个调度组件，负责执行异步的后台Job。</p>
<p>当一个流程被部署时，流程引擎为流程中的每个活动创建一个Job定义，该定义将在运行时创建Job。这允许你在流程中查询关于计时器和异步延续的信息。</p>
<h2 id="Process-Variables"><a href="#Process-Variables" class="headerlink" title="Process Variables"></a>Process Variables</h2><p>流程变量可用于向流程运行时状态或更具体地说，变量作用域（scopes）添加数据。一般来说，变量由名称和值组成。例如，如果一个活动设置了一个名为var的变量，后续活动可以使用这个名称来访问它。变量的值是Java对象。</p>
<h1 id="流程引擎-API"><a href="#流程引擎-API" class="headerlink" title="流程引擎 API"></a>流程引擎 API</h1><p><img src="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164141.png" alt="image"></p>
<h3 id="RepositoryService"><a href="#RepositoryService" class="headerlink" title="RepositoryService"></a>RepositoryService</h3><p>这个服务提供了管理和操纵部署和流程定义的操作，包括：</p>
<ul>
<li>查询引擎已知的部署和流程定义。</li>
<li>暂停（Suspend）和激活（activate）流程定义。暂停意味着不能对它们做进一步的操作，而激活则是相反的操作。</li>
<li>检索各种资源，如部署中包含的文件或由引擎自动生成的流程图</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># 部署流程</span><br><span class="line">Deployment deployment = repositoryService.createDeployment()</span><br><span class="line">                    .addModelInstance(name + &quot;.bpmn&quot;, modelInstance)</span><br><span class="line">                    .name(name)</span><br><span class="line">                    .tenantId(tenantId)</span><br><span class="line">                    .deploy();</span><br><span class="line">    </span><br><span class="line"># 查询流程</span><br><span class="line">repositoryService.createProcessDefinitionQuery().tenantIdIn(tenantId).deploymentId(deploymentId).singleResult();</span><br></pre></td></tr></table></figure>

<h2 id="RuntimeService"><a href="#RuntimeService" class="headerlink" title="RuntimeService"></a>RuntimeService</h2><ul>
<li><p>通过流程定义创建的流程实例</p>
</li>
<li><p>用于检索和存储流程变量的服务</p>
</li>
<li><p>对流程实例和执行进行查询</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># 创建流程实例（启动一个流程）</span><br><span class="line">runtimeService.startProcessInstanceById(processDefinitionId, businessKey, processVariables);</span><br><span class="line">    </span><br><span class="line"># 设置变量</span><br><span class="line">runtimeService.setVariables(executionId, processVariables);</span><br><span class="line">    </span><br><span class="line"># 删除流程实例</span><br><span class="line">runtimeService.deleteProcessInstance(processInstanceId, deleteReason);</span><br><span class="line">    </span><br></pre></td></tr></table></figure>
<h2 id="TaskService"><a href="#TaskService" class="headerlink" title="TaskService"></a>TaskService</h2></li>
<li><p>查询分配给用户或组的任务。</p>
</li>
<li><p>创建新的独立任务。这些任务与流程实例无关。 </p>
</li>
<li><p>操作任务分配给哪个用户，或者哪些用户以某种方式参与了任务。</p>
</li>
<li><p>声明（claim）并完成（complete）一个任务。声明意味着有人决定成为该任务的受让人（assignee），这意味着该用户将完成该任务。完成意味着“完成任务的工作”。通常这是填写某种表格。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 设置变量</span><br><span class="line">taskService.setVariableLocal(taskId, variableName, value);</span><br><span class="line">    </span><br><span class="line"># 查询任务</span><br><span class="line">taskService.createTaskQuery().processInstanceId(processInstanceId).list();</span><br><span class="line">    </span><br><span class="line"># 完成任务</span><br><span class="line">taskService.complete(taskId);</span><br></pre></td></tr></table></figure>
<h2 id="IdentityService"><a href="#IdentityService" class="headerlink" title="IdentityService"></a>IdentityService</h2></li>
</ul>
<p>对组和用户进行管理（创建、更新、删除、查询…）</p>
<h2 id="HistoryService"><a href="#HistoryService" class="headerlink" title="HistoryService"></a>HistoryService</h2><p>用于查询引擎收集的所有历史数据。当执行流程时，引擎可以保留很多数据（这是可配置的），如流程实例的开始时间、谁做了哪些任务、完成任务花了多长时间、每个流程实例遵循的路径等。该服务主要暴露了访问这些数据的查询功能。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 分页查询某人发起的流程</span><br><span class="line">historyService.createHistoricProcessInstanceQuery()</span><br><span class="line">      .tenantIdIn(tenantId)</span><br><span class="line">      .startedBy(startUserId)</span><br><span class="line">      .orderByProcessInstanceStartTime()</span><br><span class="line">      .desc()</span><br><span class="line">      .listPage(firstResult, maxResults);</span><br></pre></td></tr></table></figure>
<h2 id="ManagementService"><a href="#ManagementService" class="headerlink" title="ManagementService"></a>ManagementService</h2><p>它允许检索关于数据库表和表元数据的信息。此外，它暴露了查询功能和Job的管理操作。Job在引擎中被用于各种事情，如定时器、异步延续、延迟暂停&#x2F;激活等。</p>
<h2 id="Other"><a href="#Other" class="headerlink" title="Other"></a>Other</h2><p>FormService、FilterService、ExternalTaskService、CaseService、DecisionService</p>
<h1 id="流程变量"><a href="#流程变量" class="headerlink" title="流程变量"></a>流程变量</h1><p>流程变量可用于向流程运行时状态或更具体地说，变量作用域添加数据。一般来说，变量由名称和值组成。例如，如果一个活动设置了一个名为var的变量，后续活动可以使用这个名称来访问它。变量的值是Java对象。</p>
<h2 id="变量作用域和变量可访问性"><a href="#变量作用域和变量可访问性" class="headerlink" title="变量作用域和变量可访问性"></a>变量作用域和变量可访问性</h2><p>所有可以拥有变量的实体称为变量作用域(<strong>variable scopes</strong>)。包括执行(executions（包括流程实例在内）)和任务（tasks）。参看下面的流程模型，其中红点标志着活动任务。</p>
<p><img src="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164152.png" alt="image"></p>
<p>有一个流程实例有两个子执行，每个子执行都创建了一个任务。所有这五个实体都是变量作用域，箭头标志着父-子关系。<strong>在父作用域上定义的变量可以在每个子作用域中被访问，除非子作用域定义了同名的变量</strong>。反过来说，<strong>子变量不能从父作用域访问</strong>。直接附属于有关作用域的变量被称为 <em>local</em> 变量（Local Variable）。</p>
<h2 id="设置和查询变量"><a href="#设置和查询变量" class="headerlink" title="设置和查询变量"></a>设置和查询变量</h2><p>使用相关API查询和设置变量</p>
<h2 id="支持的变量类型"><a href="#支持的变量类型" class="headerlink" title="支持的变量类型"></a>支持的变量类型</h2><p><img src="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164162.png" alt="image"></p>
<h1 id="委托代码"><a href="#委托代码" class="headerlink" title="委托代码"></a>委托代码</h1><p>委托代码（Delegation Code）允许你在流程执行期间发生某些事件时执行外部Java代码、脚本或表达式。</p>
<p>有四种不同类型委托代码：</p>
<ul>
<li><strong>Java 代理类（JAVA Delegates）：</strong>可以附加到 BPMN 服务任务（Service Task）。</li>
<li><strong>变量映射（Delegate Variable Mapping）</strong>：可以附加到发起活动。</li>
<li><strong>执行监听器（Execution Listeners）：</strong>可以附加到令牌流动的任何事件，例如，启动一个流程实例或进入一个活动。</li>
<li><strong>任务监听器（Task Listeners）</strong>：可以附加到用户任务生命周期内的任何事件，例如，用户任务的创建或完成。</li>
</ul>
<h2 id="Java-Delegate"><a href="#Java-Delegate" class="headerlink" title="Java Delegate"></a>Java Delegate</h2><p>实现可以在流程执行期间调用的类，这个类需要实现org.camunda.bpm.engine.delegate.JavaDelegate接口，并在execute方法中提供所需的逻辑。当流程执行到达这个特定的步骤时，它将执行该方法中定义的逻辑，并以默认的BPMN 2.0方式完成活动。</p>
<h2 id="Delegate-Variable-Mapping"><a href="#Delegate-Variable-Mapping" class="headerlink" title="Delegate Variable Mapping"></a>Delegate Variable Mapping</h2><p>略</p>
<h2 id="Execution-Listener"><a href="#Execution-Listener" class="headerlink" title="Execution Listener"></a>Execution Listener</h2><p>执行监听器允许你在流程执行过程中发生某些事件时执行外部Java代码或计算一个表达式。可以捕获的事件有：</p>
<ul>
<li>启动或结束一个流程实例。</li>
<li>进行一个过渡（Transition）。</li>
<li>启动或结束一个活动。</li>
<li>启动或结束一个网关。</li>
<li>启动或结束一个中间事件。</li>
<li>结束一个 start event 或启动一个 end event.</li>
</ul>
<h2 id="Task-Listener"><a href="#Task-Listener" class="headerlink" title="Task Listener"></a>Task Listener</h2><p>任务监听器被用来在某个任务相关事件发生时执行自定义的Java逻辑或表达式。它只能作为用户任务的一个子元素添加到流程定义中。请注意，这也必须作为BPMN 2.0 extensionElements的一个子元素，并在Camunda命名空间中定义，因为任务监听器是Camunda引擎专用的。</p>
<h1 id="BPMN-2-0"><a href="#BPMN-2-0" class="headerlink" title="BPMN 2.0"></a>BPMN 2.0</h1><p>BPMN(Business Process Model and Notation)，即业务流程模型和符号，是业务流程模型的一种标准图形注解。</p>
<h2 id="实现范围"><a href="#实现范围" class="headerlink" title="实现范围"></a>实现范围</h2><p>标注为 <strong>橙色</strong> 的部分被实现了</p>
<h3 id="符号"><a href="#符号" class="headerlink" title="符号"></a>符号</h3><h4 id="参与者"><a href="#参与者" class="headerlink" title="参与者"></a>参与者</h4><p><img src="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164171.png" alt="image"></p>
<h4 id="子流程"><a href="#子流程" class="headerlink" title="子流程"></a>子流程</h4><p><img src="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164183.png" alt="image"></p>
<h4 id="任务"><a href="#任务" class="headerlink" title="任务"></a>任务</h4><p><img src="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164200.png" alt="image"></p>
<h4 id="网关"><a href="#网关" class="headerlink" title="网关"></a>网关</h4><p><img src="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164218.png" alt="image"></p>
<h4 id="数据"><a href="#数据" class="headerlink" title="数据"></a>数据</h4><p><img src="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164235.png" alt="image"></p>
<h4 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h4><p><img src="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164252.png" alt="image"></p>
<h3 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h3><p>在BPMN中有开始事件、中间事件和结束事件。这三种事件类型都可以捕获事件或抛出事件。中间事件可以用作任务的边界事件，在这种情况下，它们可以是中断事件，也可以是非中断事件。这为您在流程中使用事件提供了很大的灵活性。</p>
<p><img src="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164269.png" alt="image"></p>
<h2 id="任务-1"><a href="#任务-1" class="headerlink" title="任务"></a>任务</h2><h3 id="Service-Task"><a href="#Service-Task" class="headerlink" title="Service Task"></a>Service Task</h3><p>服务任务用于调用服务。在Camunda中，这是通过调用Java代码来完成的，或者为外部工作者提供的工作项来完成以异步或直接调用Web服务的形式实现逻辑。</p>
<p><img src="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164291.png" alt="image"></p>
<h3 id="Send-Task"><a href="#Send-Task" class="headerlink" title="Send Task"></a>Send Task</h3><p>发送任务用于发送消息。在Camunda，这是通过调用Java代码来完成的。</p>
<p>发送任务具有与服务任务相同的行为。</p>
<p><img src="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164311.png" alt="image"></p>
<h3 id="User-Task"><a href="#User-Task" class="headerlink" title="User Task"></a>User Task</h3><p>用户任务用于对需要由人类参与者完成的工作进行建模。当流程执行到达这样的用户任务时，在分配给该任务的用户或组的任务列表中创建一个新任务。</p>
<p><img src="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164331.png" alt="image"></p>
<h3 id="Business-Rule-Task"><a href="#Business-Rule-Task" class="headerlink" title="Business Rule Task"></a>Business Rule Task</h3><p>一个业务规则任务可以同步执行一个或多个规则，可以调用Java代码或外部工作者（external worker）来实现，或者以异步方式调用以Web服务形式实现的逻辑。</p>
<h3 id="Script-Task"><a href="#Script-Task" class="headerlink" title="Script Task"></a>Script Task</h3><p>脚本任务是自动活动。当流程执行到达脚本任务时，执行相应的脚本。</p>
<p><img src="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164350.png" alt="image"></p>
<h3 id="Receive-Task"><a href="#Receive-Task" class="headerlink" title="Receive Task"></a>Receive Task</h3><p>一个接收任务是一个简单的任务，它等待某个消息的到来。当流程的执行到达一个接收任务时，流程的状态被提交到持久性存储中。这意味着流程将一直处于这种等待状态，直到引擎收到一个特定的消息，从而触发流程继续执行。</p>
<p><img src="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164367.png" alt="image"></p>
<h3 id="Manual-Task"><a href="#Manual-Task" class="headerlink" title="Manual Task"></a>Manual Task</h3><p>手动任务定义了一个对BPM引擎来说是外部的任务。它被用来模拟由引擎不需要知道的人所做的工作，而且没有已知的系统或UI接口。对于引擎来说，手工任务被当作一个传递节点来处理，在流程执行到达的那一刻将自动继续流程。</p>
<p><img src="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164385.png" alt="image"></p>
<h3 id="Task-Markers"><a href="#Task-Markers" class="headerlink" title="Task Markers"></a>Task Markers</h3><p>除了各种类型的任务外，我们还可以将任务标记为循环（loops）、多实例（Multiple Instance）或补偿（compensations）。标记可以与任务类型相结合使用。</p>
<h4 id="Multiple-Instance"><a href="#Multiple-Instance" class="headerlink" title="Multiple Instance"></a>Multiple Instance</h4><p>多实例活动是为业务流程中的某个步骤定义重复的一种方式。在编程概念中，多实例与 <code>for each</code> 结构相似：它允许对给定集合中的每个项目按顺序或并行地执行某个步骤甚至一个完整的子流程。</p>
<p>多实例是一个有额外属性（所谓的 “多实例特性”）的常规活动，它将导致该活动在运行时被多次执行。以下活动可以成为多实例活动。</p>
<ul>
<li>Service Task 服务任务</li>
<li>Send Task 发送任务</li>
<li>User Task 用户任务</li>
<li>Business Rule Task 业务规则任务</li>
<li>Script Task 脚本任务</li>
<li>Receive Task 接收任务</li>
<li>Manual Task 手动任务</li>
<li>(Embedded) Sub-Process （嵌入）子流程</li>
<li>Call Activity 发起活动</li>
<li>Transaction Subprocess 事务子流程</li>
</ul>
<p>网关或事件不能成为多实例。</p>
<p>如果一个活动是多实例的，这将由活动底部的三条短线表示。三条垂直线表示实例将以<strong>并行</strong>方式执行，而三条水平线表示<strong>顺序</strong>执行。</p>
<p><img src="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164403.png" alt="image"></p>
<p>根据规范的要求，每个创建的执行实例的父执行实例都将具有以下变量：</p>
<ul>
<li><strong>nrOfInstances</strong>: 实例的总数量</li>
<li><strong>nrOfActiveInstances</strong>: 当前活动的，即尚未完成的实例的数量。对于一个连续的多实例，这将永远是1。</li>
<li><strong>nrOfCompletedInstances</strong>: 已经完成的实例的数量。</li>
</ul>
<p>这些值可以通过调用 “execution.getVariable(x) “方法检索。</p>
<p>此外，每个创建的执行将有一个执行本地变量（即对其他执行不可见，也不存储在流程实例级别）。</p>
<ul>
<li><strong>loopCounter</strong>: 表示该特定实例的<code>for each</code>循环中的索引</li>
</ul>
<h4 id="compensations（补偿）"><a href="#compensations（补偿）" class="headerlink" title="compensations（补偿）"></a>compensations（补偿）</h4><p>如果一个活动被用来补偿另一个活动的影响，它可以被声明为补偿处理程序。补偿处理程序不包含在常规流程中，并且只在抛出补偿事件时被执行。</p>
<p><img src="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164421.png" alt="image"></p>
<p>注意在 “cancel hotel reservation” 服务任务的底部中心区域的补偿处理程序图标。</p>
<p>补偿处理程序可能没有传入或传出的序列流。</p>
<p>补偿处理程序必须使用定向关联与补偿边界事件相关联。</p>
<p>为了声明一个活动是一个补偿处理程序，我们需要将属性isForCompensation设置为真。</p>
<h2 id="网关-1"><a href="#网关-1" class="headerlink" title="网关"></a>网关</h2><h3 id="Data-based-Exclusive-Gateway-XOR"><a href="#Data-based-Exclusive-Gateway-XOR" class="headerlink" title="Data-based Exclusive Gateway (XOR)"></a>Data-based Exclusive Gateway (XOR)</h3><p>基于数据的排他网关(XOR)</p>
<p><img src="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164438.png" alt="image"></p>
<h3 id="Parallel-Gateway"><a href="#Parallel-Gateway" class="headerlink" title="Parallel Gateway"></a>Parallel Gateway</h3><p>并行网关</p>
<p><img src="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164457.png" alt="image"></p>
<h3 id="Inclusive-Gateway"><a href="#Inclusive-Gateway" class="headerlink" title="Inclusive Gateway"></a>Inclusive Gateway</h3><p>包容网关</p>
<p><img src="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164480.png" alt="image"></p>
<h3 id="Event-based-Gateway"><a href="#Event-based-Gateway" class="headerlink" title="Event-based Gateway"></a>Event-based Gateway</h3><p>基于事件的网关</p>
<p><img src="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164502.png" alt="image"></p>
<h2 id="事件-1"><a href="#事件-1" class="headerlink" title="事件"></a>事件</h2><p>BPMN定义了不同的事件类型。Camunda支持以下内容。</p>
<ul>
<li><p>Start Events：开始事件定义了流程或子流程的起始位置。</p>
</li>
<li><p>None Events：没有指定触发器和行为的事件。</p>
</li>
<li><p>Message Events：捕获&#x2F;抛出消息的事件。</p>
</li>
<li><p>Timer Events：等待计时器条件的事件。</p>
</li>
<li><p>Error Events：捕获&#x2F;抛出错误的事件。</p>
</li>
<li><p>Escalation Events：捕获&#x2F;抛出升级的事件。</p>
</li>
<li><p>Signal Events：捕获&#x2F;抛出信号的事件。</p>
</li>
<li><p>Cancel and Compensation Events：抛出&#x2F;捕获补偿和取消事务事件。</p>
</li>
<li><p>Conditional Events：捕获条件事件。</p>
</li>
<li><p>Link Events：连接非常长的序列流。</p>
</li>
<li><p>Terminate Events：结束一个作用域。</p>
</li>
</ul>
<h2 id="子流程-1"><a href="#子流程-1" class="headerlink" title="子流程"></a>子流程</h2><p>在Camunda中，子流程允许基于可重用性和分组进行建模。以下是Camunda支持的不同类型的子流程：</p>
<ul>
<li><p>嵌入式子流程（Embedded Subprocess）：将一组流程节点组合成一个范围。</p>
</li>
<li><p>调用活动（Call Activity）：从一个流程调用另一个流程。</p>
</li>
<li><p>事件子流程（Event Subprocess）：基于事件驱动的子流程。</p>
</li>
<li><p>事务子流程（Transaction Subprocess）：建模业务事务。</p>
</li>
</ul>
<h2 id="Camunda扩展"><a href="#Camunda扩展" class="headerlink" title="Camunda扩展"></a>Camunda扩展</h2><p>Camunda延伸BPMN定义的扩展元素和属性。</p>
<h1 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h1><h2 id="数据库表结构"><a href="#数据库表结构" class="headerlink" title="数据库表结构"></a>数据库表结构</h2><p>流程引擎的数据库由多个表组成。 表的名称都以ACT开头的。后面的是说明表的用途的两个字符标识。这个用途标识也将与服务API大致匹配。</p>
<ul>
<li><p><code>ACT_RE_*</code>: <code>RE</code>代表资源库（Repository）。带有这个前缀的表包含“静态”信息，如流程定义和流程资源（图像、规则等）。</p>
</li>
<li><p><code>ACT_RU_*</code>: <code>RU</code>代表运行时（Runtime）。包含流程实例、用户任务、变量、Job等的运行时数据。引擎只在流程实例执行期间存储运行时数据，并在流程实例结束时删除记录。这使运行时表保持小而快。</p>
</li>
<li><p><code>ACT_ID_*</code>: <code>ID</code>代表身份信息（Identity）。这些表包含身份信息有用户、组等。</p>
</li>
<li><p><code>ACT_HI_*</code>: <code>HI</code>代表历史（History）。这些是包含历史数据的表，如过去的流程实例、变量、任务等。</p>
</li>
<li><p><code>ACT_GE_*</code>: <code>GE</code>代表一般数据（General），在各种使用情况下使用。</p>
</li>
</ul>
<p>流程引擎的主要表有流程定义、执行、任务、变量和事件订阅。它们的关系显示在下面的UML模型中：</p>
<p><img src="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164525.png" alt="image"></p>
<h3 id="流程定义-ACT-RE-PROCDEF"><a href="#流程定义-ACT-RE-PROCDEF" class="headerlink" title="流程定义 (ACT_RE_PROCDEF)"></a>流程定义 (ACT_RE_PROCDEF)</h3><p>包含所有已部署的流程定义。它包括有版本详细信息，资源名称或暂停状态等信息。</p>
<h3 id="执行-ACT-RU-EXECUTION"><a href="#执行-ACT-RU-EXECUTION" class="headerlink" title="执行 (ACT_RU_EXECUTION)"></a>执行 (ACT_RU_EXECUTION)</h3><p>包含所有当前运行中的执行。它包括有流程定义，父执行，业务主键，当前活动和关于执行状态的不同元数据的信息。</p>
<h3 id="任务-ACT-RU-TASK"><a href="#任务-ACT-RU-TASK" class="headerlink" title="任务(ACT_RU_TASK)"></a>任务(ACT_RU_TASK)</h3><p>包含所有正在运行的流程实例的所有执行中的任务。它包括有相应的流程实例，执行以及元数据等信息，例如创建时间，受让人或截止日期。</p>
<h3 id="变量-ACT-RU-VARIABLE"><a href="#变量-ACT-RU-VARIABLE" class="headerlink" title="变量 (ACT_RU_VARIABLE)"></a>变量 (ACT_RU_VARIABLE)</h3><p>包含所有当前设置的流程或任务变量。它包括变量的名称、类型和值以及相应流程实例或任务的信息。</p>
<h3 id="事件订阅-ACT-RU-EVENT-SUBSCR"><a href="#事件订阅-ACT-RU-EVENT-SUBSCR" class="headerlink" title="事件订阅 (ACT_RU_EVENT_SUBSCR)"></a>事件订阅 (ACT_RU_EVENT_SUBSCR)</h3><p>包含所有当前现有的事件订阅。它包括预期事件的类型、名称和配置以及相应的流程实例和执行的信息。</p>
<h3 id="表结构日志-ACT-GE-SCHEMA-LOG"><a href="#表结构日志-ACT-GE-SCHEMA-LOG" class="headerlink" title="表结构日志 (ACT_GE_SCHEMA_LOG)"></a>表结构日志 (ACT_GE_SCHEMA_LOG)</h3><p>记录数据库表结构版本的历史记录。在进行表结构修改时都会写入记录。在数据库创建时会写入一条初始信息，以后每次修改都会记录id 、版本、数据库更新日期以及时间戳。</p>
<h3 id="运行时指标日志-ACT-RU-METER-LOG"><a href="#运行时指标日志-ACT-RU-METER-LOG" class="headerlink" title="运行时指标日志 (ACT_RU_METER_LOG)"></a>运行时指标日志 (ACT_RU_METER_LOG)</h3><p>表包含一组运行时指标，可以帮助得出有关Camunda平台使用情况、负载和性能的结论。</p>
<h3 id="任务指标日志-ACT-RU-TASK-METER-LOG"><a href="#任务指标日志-ACT-RU-TASK-METER-LOG" class="headerlink" title="任务指标日志 (ACT_RU_TASK_METER_LOG)"></a>任务指标日志 (ACT_RU_TASK_METER_LOG)</h3><p>包含一组与任务相关的指标，可以帮助得出关于BPM平台的使用、负载和性能的结论。</p>
<h2 id="实体关系图"><a href="#实体关系图" class="headerlink" title="实体关系图"></a>实体关系图</h2><p>下面的实体关系图将数据库表和它们的显式外键约束可视化，按照BPMN引擎、DMN引擎、CMMN引擎、历史引擎和身份引擎进行分组。请注意，这些图并没有将表之间的隐性联系可视化。</p>
<h3 id="BPMN引擎"><a href="#BPMN引擎" class="headerlink" title="BPMN引擎"></a>BPMN引擎</h3><p><img src="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164547.png" alt="image"></p>
<h3 id="DMN引擎"><a href="#DMN引擎" class="headerlink" title="DMN引擎"></a>DMN引擎</h3><p><img src="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164571.png" alt="image"></p>
<h3 id="CMMN引擎"><a href="#CMMN引擎" class="headerlink" title="CMMN引擎"></a>CMMN引擎</h3><p><img src="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164595.png" alt="image"></p>
<h3 id="历史"><a href="#历史" class="headerlink" title="历史"></a>历史</h3><p><img src="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164622.png" alt="image"></p>
<h3 id="身份"><a href="#身份" class="headerlink" title="身份"></a>身份</h3><p><img src="http://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2024/03/02/17093738164652.png" alt="image"></p>
<h2 id="数据库配置"><a href="#数据库配置" class="headerlink" title="数据库配置"></a>数据库配置</h2><h4 id="为-date-x2F-time-类型禁用发送毫秒精度"><a href="#为-date-x2F-time-类型禁用发送毫秒精度" class="headerlink" title="为 date&#x2F;time 类型禁用发送毫秒精度"></a>为 date&#x2F;time 类型禁用发送毫秒精度</h4><p>引擎的MySQL数据库模式不支持列类型 <code>TIMESTAMP</code> 和 <code>DATETIME</code> 的毫秒精度。 也就是会四舍五入到下一秒或上一秒，例如，<code>2021-01-01 15:00:46.731</code>被四舍五入到<code>2021-01-01 15:00:47</code></p>
<p><strong>可以通过设置sendFractionalSeconds&#x3D;false来避免向MySQL服务器发送毫秒。 在你的JDBC连接URL中设置sendFractionalSeconds&#x3D;false。</strong></p>
<h4 id="隔离级别配置"><a href="#隔离级别配置" class="headerlink" title="隔离级别配置"></a>隔离级别配置</h4><p>大多数数据库管理系统提供了四种不同的隔离级别可供设置。例如，由ANSI&#x2F;USO SQL定义的级别是（从低到高的隔离）有：</p>
<ul>
<li>读未提交（READ UNCOMMITTED ）</li>
<li>不可重复读（READ COMMITTED）</li>
<li>可重复读（REPEATABLE READS） </li>
<li>串行化（SERIALIZABLE）</li>
</ul>
<p>运行Camunda所需的隔离级别是 <strong>不可重复读（READ COMMITTED）</strong> ，根据你的数据库系统不同，它可能有不同的名称。将隔离级别设置为 REPEATABLE READS 会导致死锁，所以在改变隔离级别时需要谨慎。</p>

      
    </div>
    <div class="article-footer">
      <blockquote class="mt-2x">
  <ul class="post-copyright list-unstyled">
    
    <li class="post-copyright-link hidden-xs">
      <strong>本文链接：</strong>
      <a href="https://yh124.space/2024/03/02/Camunda/" title="Camunda" target="_blank" rel="external">https://yh124.space/2024/03/02/Camunda/</a>
    </li>
    
    <li class="post-copyright-license">
      <strong>版权声明： </strong> 本博客所有文章除特别声明外，均采用 <a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CN协议</a> 许可协议。转载请注明出处！
    </li>
  </ul>
</blockquote>


<div class="panel panel-default panel-badger">
  <div class="panel-body">
    <figure class="media">
      <div class="media-left">
        <a href="https://github.com/yangh124" target="_blank" class="img-burn thumb-sm visible-lg">
          <img src="https://yh-blog-files.oss-cn-hangzhou.aliyuncs.com/2021/04/25/avatar.JPG" class="img-rounded w-full" alt="">
        </a>
      </div>
      <div class="media-body">
        <h3 class="media-heading"><a href="https://github.com/yangh124" target="_blank"><span class="text-dark">yangh124</span><small class="ml-1x"></small></a></h3>
        <div>你还有好多未完成的梦，你有什么道理停下脚步。</div>
      </div>
    </figure>
  </div>
</div>


    </div>
  </article>
  
    
  <section id="comments">
  	
      <div id="vcomments"></div>
    
  </section>


  
</div>

  <nav class="bar bar-footer clearfix" data-stick-bottom>
  <div class="bar-inner">
  
  <ul class="pager pull-left">
    
    
    <li class="next">
      <a href="/2023/02/28/k3s%E5%AE%9E%E6%88%98/" title="k3s实战"><span>下一篇&nbsp;&nbsp;</span><i class="icon icon-angle-right" aria-hidden="true"></i></a>
    </li>
    
    
    <li class="toggle-toc">
      <a class="toggle-btn collapsed" data-toggle="collapse" href="#collapseToc" aria-expanded="false" title="文章目录" role="button">
        <span>[&nbsp;</span><span>文章目录</span>
        <i class="text-collapsed icon icon-anchor"></i>
        <i class="text-in icon icon-close"></i>
        <span>]</span>
      </a>
    </li>
    
  </ul>
  
  
  
  <div class="bar-right">
    
    <div class="share-component" data-sites="weibo,qq,wechat,facebook,twitter" data-mobile-sites="weibo,qq,qzone"></div>
    
  </div>
  </div>
</nav>
  


</main>

  <footer class="footer" itemscope itemtype="http://schema.org/WPFooter">
    
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/yangh124" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
    </ul>

        <div class="copyright">
            
                &copy; 2024
                    yangh
                        
                            | <a href="http://beian.miit.gov.cn/" target="_blank">浙ICP备2021031092号-2</a>
                            <div class="publishby">
                                Theme by <a href="https://github.com/cofess" target="_blank">
                                        cofess </a>
                                    base on <a href="https://github.com/cofess/hexo-theme-pure"
                                            target="_blank">pure</a>.
                            </div>
        </div>
</footer>
  <script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
<script>
window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')
</script>

<script src="/js/plugin.min.js"></script>


<script src="/js/application.js"></script>


    <script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>

<script src="/js/insight.js"></script>






   
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>





   
    
  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/valine"></script>
  <script type="text/javascript">
  var GUEST = ['nick', 'mail', 'link'];
  var meta = 'nick,mail,link';
  meta = meta.split(',').filter(function(item) {
    return GUEST.indexOf(item) > -1;
  });
  new Valine({
    el: '#vcomments',
    verify: false,
    notify: false,
    appId: 'HXqdy9Gelr3kb7pii3TOj4fl-9Nh9j0Va',
    appKey: 'CY8JtaywMBlw476SSnU4X9RH',
    placeholder: 'Just go go',
    avatar: 'mm',
    meta: meta,
    pageSize: '10' || 10,
    visitor: true
  });
  </script>

     



  <script src="//cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.3.5/dist/jquery.fancybox.min.js"></script>
  <script>
  //利用 FancyBox 实现点击图片放大
  $(document).ready(function() {
    $('article img').not('[hidden]').not('.panel-body img').each(function() {
      var $image = $(this);
      var imageCaption = $image.attr('alt');
      var $imageWrapLink = $image.parent('a');
      if ($imageWrapLink.length < 1) {
        var src = this.getAttribute('src');
        var idx = src.lastIndexOf('?');
        if (idx != -1) {
          src = src.substring(0, idx);
        }
        $imageWrapLink = $image.wrap('<a href="' + src + '"></a>').parent('a');
      }
      $imageWrapLink.attr('data-fancybox', 'images');
      if (imageCaption) {
        $imageWrapLink.attr('data-caption', imageCaption);
      }
    });
    $().fancybox({
      selector: '[data-fancybox="images"]',
      hash: false,
      loop: false,
    });
  });
  </script>





</body>
</html>